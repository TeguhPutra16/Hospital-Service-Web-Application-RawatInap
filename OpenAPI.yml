openapi:  3.0.3
info:
  title: CAPSTONE PROJECT kamarRS
  version: 1.0.0
  description:  Dokumentasi Project 
  contact:
    email: 
servers:
  # Added by API Auto Mocking Plugin
  - description: SwaggerHub API Auto Mocking
    url: https://virtserver.swaggerhub.com/Anti-Gen/CAPSTONE-PORJECT-kamarRS/1.0.0


tags:
  - name: Auth
    description: "authentication"
  - name: Users
    description: "Manajemen data user"
  - name: Hospital staffs
    description: "Manajemen data staff Rumah sakit"
  - name: Hospitals
    description: "Manajemen data Rumah sakit"
  - name: Patiens
    description: "Manajemen data pasien"
  - name: Hospital Beds
    description: "Manajemen data tempat tidur di Rumah sakit"
  - name: Doctors
    description: "Manajemen data Dokter"
  - name: Policlinics
    description: "Manajemen data Poliklinik"
  - name: Daily Practics
    description: "Manajemen data praktek harian"
  - name: Check Up Reservations
    description: "Manajemen data reservasi checkup"
  - name: Beds Reservations
    description: "Manajemen data reservasi tempat tidur"
  - name: Invoice
    description: "Midtrans Callback"
  
paths:
  /oauth/login/user:
    post:
      tags:
        - Auth
      summary: Login
      description: Login akun user 
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              example:
                oauth:  "das&hd9asd87gdoas_sdk9sd"
      responses:
        '201':
          description: Login berhasil.
          content:
            application/json:
              schema:
                type: object
                example:
                  status: "success"
                  message: "Login berhasil"
                  data:
                      id: 1
                      email: "teguh@mail.com"
                      token:  "afkdnnifnnj&h3"
                      role: "user"
        '404' :
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
  /login/staff:
    post:
      tags:
        - Auth
      summary: Login
      description: Login akun staff
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              example:
                email: "suyo@siloam.com"
                password: "123456"
      responses:
        '201':
          description: Login berhasil.
          content:
            application/json:
              schema:
                type: object
                example:
                  status: "success"
                  message: "Login berhasil"
                  data:
                      id: 1
                      email: "suyo@siloam.com"
                      token:  "afkdnnifnnj&h3"
                      role: "Admin"
        '404' :
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
     


  /users:
    post:
      tags:
        - Users
      summary: add user
      description: Menambah data User (register)
      security:
        - Oauth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              example:
                nama: "budi"
                email:  "budi@mail.com"
                no_nik: "7109287651997"
                no_kk:  "7190398173764"
                kata_sandi: "qwerty"
                no_telepon: "081234"
      responses:
        '201':
          description: Register berhasil.
          content:
            application/json:
              schema:
                type: object
                example:
                  status: "success"
                  message: "register berhasil"
        '400':
          description: Register gagal.
          content:
            application/json:
              schema:
                type: object
                example:
                  status: "failed"
                  message: "register gagal."
        '500':
          $ref: '#/components/responses/500'

    put:
      tags:
        - Users
      summary: Update data user
      description: Memperbarui data user
      security:
        - Oauth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              example:
                nama: "budi"
                email:  "budi@mail.com"
                no_nik: "7109287651997"
                no_kk:  "7190398173764"
                kata_sandi: "qwerty"
                no_telepon: "081234"
      responses:
        '201':
          description: Update berhasil.
          content:
            application/json:
              schema:
                type: object
                example:
                  status: "success"
                  message: "Update berhasil"
        '400':
          description: Update gagal.
          content:
            application/json:
              schema:
                type: object
                example:
                  status: "failed"
                  message: "Update gagal."
        '500':
          $ref: '#/components/responses/500'

    get:
      tags:
        - Users
      summary: Get user by user_id
      description: Menampilkan data user yang sedang login
      security:
        - Oauth: []
      responses:
        '200':
          description: A list of users
          content:
            application/json:
              schema:
                type: object
                example:
                  status: "success"
                  message: "success get all users"
                  data:
                     id : 1
                     nama: "budi"
                     email:  "budi@mail.com"
                     no_nik: "7109287651997"
                     no_kk:  "7190398173764"
                     no_telepon: "081234"
                     pasien : 
                      - id:  1
                        nama: "apik"
                      - id:  2
                        nama: "piu"
        '404':
          $ref: '#/components/responses/404'

        '500':
          $ref: '#/components/responses/500'

    
    delete:
      tags:
        - Users
      summary: Delete data users
      description: Menghapus data user 
      security:
        - JWTAuth: []
      responses:
        '201':
          description: Delete berhasil.
          content:
            application/json:
              schema:
                type: object
                example:
                  status: "success"
                  message: "Delete success"
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'

##############################################################
##############################################################
  /staffs:
    post:
      tags:
        - Hospital staffs
      summary: add Hospital staffs
      description: Menambah akun untuk staff rumah sakit
      security:
        - Oauth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              example:
                nama: teguh
                email: teguh@mail.com
                kata_sandi: "12345"
                peran: Admin
                hospital_id: 1
      responses:
        '201':
          description: Register berhasil.
          content:
            application/json:
              schema:
                type: object
                example:
                  status: "success"
                  message: "register berhasil"
        '400':
          description: Register gagal.
          content:
            application/json:
              schema:
                type: object
                example:
                  status: "failed"
                  message: "register gagal."
        '500':
          $ref: '#/components/responses/500'


    put:
      tags:
        - Hospital staffs
      summary: Update staff data
      description: Memperbarui data staff Rumah sakit
      security:
        - Oauth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              example:
                nama: teguh
                email: teguh@mail.com
                kata_sandi: "12345"
                peran: Admin
                hospital_id: 1
      responses:
        '201':
          description: Update berhasil.
          content:
            application/json:
              schema:
                type: object
                example:
                  status: "success"
                  message: "update data staff berhasil"
        '400':
          description: Update gagal.
          content:
            application/json:
              schema:
                type: object
                example:
                  status: "failed"
                  message: "Update data gagal."
        '500':
          $ref: '#/components/responses/500'


    delete:
      tags:
        - Hospital staffs
      summary: Delete hospital staff account
      description: Menghapus akun staff rumah sakit
      security:
        - JWTAuth: []
      responses:
        '201':
          description: Delete berhasil.
          content:
            application/json:
              schema:
                type: object
                example:
                  status: "success"
                  message: "Delete success"

        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'

    get:
      tags:
        - Hospital staffs
      summary: Get staff data
      description: Menampilkan data staff rumah sakit
      security:
        - Oauth: []
      responses:
        '200':
          description: A list of staff
          content:
            application/json:
              schema:
                type: object
                example:
                  status: "success"
                  message: "success get detail staff"
                  data:
                     id : 1
                     nama: teguh
                     email: teguh@mail.com
                     kata_sandi: "12345"
                     peran: Admin
                     hospital: 
                       id:  1
                       nama: "RSUD dr. Chasbullah Abdulmadjid"
                
        '404':
          $ref: '#/components/responses/404'

        '500':
          $ref: '#/components/responses/500'

##############################################################
##############################################################

  /patiens:
    post:
      tags:
        - Patiens
      summary: Patient Registration
      description: Registrasi pasien
 
    get:
      tags:
        - Patiens
      summary: Get Patient Data
      description: Menampilakn Pasien yang di daftarkan oleh user

  /patiens/{patien_id}:
    post:
      tags:
        - Patiens
      summary: Update Patien Data
      description: Memperbarui data pasien

    delete:
      tags:
        - Patiens
      summary: Delete patient
      description: Menghapus data pasien 
    
    get:
      tags:
        - Patiens
      summary: Get Detail patien
      description: Menampilakn data detail pasien
  
##############################################################
##############################################################

  /hospitals:
    post:
      tags:
        - Hospitals
      summary: Register Hospital
      description: Menambahkan Rumah sakit sebagai mitra
      security:
        - JWTAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              example:
                kode_rs: "3275013"
                nama: "RSUD dr. Chasbullah Abdulmadjid"
                foto: "http://url.jpg"
                alamat: "Jalan Pramuka №55, Marga Jaya, Kec. Bekasi Selatan, Kota Bekasi, Jawa Barat 17141"
                provinsi: "jawa barat"
                kabupaten/kota: "Kota bekasi"
                kecamatan: "Bekasi Selatan"
                no_telepon: "021000"
                email: "rsbekasi@mail.com"
                kelas_rs: "Rumah Sakit Umum Kelas B"
                pemilik/pengelola: "Pemprov"
                jumlah_tempat_tidur: "100"
                status_penggunaan: "RSUD Provinsi"
                biaya_pendaftaran: "25.000"
      responses:
        '200':
          description: add hospital
          content:
            application/json:
              schema:
                type: object
                example:
                  status: "success"
                  message: "success Add hospital"
                  
             
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'

    put:
      tags:
        - Hospitals
      summary: Update Hospital's data
      description: Memperbarui data rumah sakit
      security:
        - JWTAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              example:
                kode_rs: "3275013"
                nama: "RSUD dr. Chasbullah Abdulmadjid"
                foto: "http://url.jpg"
                alamat: "Jalan Pramuka №55, Marga Jaya, Kec. Bekasi Selatan, Kota Bekasi, Jawa Barat 17141"
                provinsi: "jawa barat"
                kabupaten/kota: "Kota bekasi"
                kecamatan: "Bekasi Selatan"
                no_telepon: "024400"
                email: "rsbekasi.mail.com"
                kelas_rs: "Rumah Sakit Umum Kelas B"
                pemilik/pengelola: "Pemprov"
                jumlah_tempat_tidur: "100"
                status_penggunaan: "RSUD Provinsi"
                biaya_pendaftaran: "25.000"
      responses:
        '200':
          description: update hospital's data
          content:
            application/json:
              schema:
                type: object
                example:
                  status: "success"
                  message: "success update data hospital"
                  
             
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
    
    delete:
      tags:
        - Hospitals
      summary: Delete Hospital
      description: Menghapus Data Rumah sakit 
      security:
        - JWTAuth: []
      responses:
        '201':
          description: Delete berhasil.
          content:
            application/json:
              schema:
                type: object
                example:
                  status: "success"
                  message: "Delete success"
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
    
    get:
      tags:
        - Hospitals
      summary: Get All hospitals
      description: Menampilkan Daftar Rumah sakit
      responses:
        '200':
          description: A list of hospitals
          content:
            application/json:
              schema:
                type: object
                example:
                  status: "success"
                  message: "success get hospitals"
                  data:
                    - id : 1
                      kode_rs: "3275013"
                      nama: "RSUD dr. Chasbullah Abdulmadjid"
                      foto: "http://url.jpg"
                      alamat: "Jalan Pramuka №55, Marga Jaya, Kec. Bekasi Selatan, Kota Bekasi, Jawa Barat 17141"
                      provinsi: "jawa barat"
                      kabupaten/kota: "Kota bekasi"
                      kecamatan: "Bekasi Selatan"
                      no_telepon: "024400"
                      email: "rsbekasi.mail.com"
                      kelas_rs: "Rumah Sakit Umum Kelas B"
                      pemilik/pengelola: "Pemprov"
                      jumlah_tempat_tidur: "100"
                      status_penggunaan: "RSUD Provinsi"
                      biaya_pendaftaran: "25.000"
                    - id : 2
                      kode_rs: "1174024"
                      nama: "RS Umum Az-Zuhra "
                      foto: "http://url.jpg"
                      alamat: "Jl. Pasar Inpres No.2 Desa Kutablang Kec. Banda"
                      provinsi: "sumatra"
                      kabupaten/kota: "Aceh"
                      kecamatan: "Banda sakti"
                      no_telepon: "024440"
                      email:  rsbekasi.mail.com"
                      kelas_rs: "D"
                      pemilik/pengelola: "perusahaan"
                      jumlah_tempat_tidur: "30"
                      status_penggunaan: "RSUD swasta"
                      biaya_pendaftaran: "25.000"

        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'

  /hospitals/{hospital_id}:
    get:
      tags:
        - Hospitals
      summary: Get Detail Hospital
      description: Menampilkan detail rumah sakit
      responses:
        '200':
          description:  hospital's Details
          content:
            application/json:
              schema:
                type: object
                example:
                  status: "success"
                  message: "success get hospitals"
                  data:
                    id : 1
                    kode_rs: "3275013"
                    nama: "RSUD dr. Chasbullah Abdulmadjid"
                    foto: "http://url.jpg"
                    alamat: "Jalan Pramuka №55, Marga Jaya, Kec. Bekasi Selatan, Kota Bekasi, Jawa Barat 17141"
                    provinsi: "jawa barat"
                    kabupaten/kota: "Kota bekasi"
                    kecamatan: "Bekasi Selatan"
                    no_telepon: "024400"
                    email: "rsbekasi.mail.com"
                    kelas_rs: "Rumah Sakit Umum Kelas B"
                    pemilik/pengelola: "Pemprov"
                    jumlah_tempat_tidur: "100"
                    status_penggunaan: "RSUD Provinsi"
                    biaya_pendaftaran: "25.000"
                    


        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'

##############################################################
##############################################################

  /beds:
    post:
      tags:
        - Hospital Beds
      summary: add hospital bed
      description: Menambahkan data tempat tidur rumah sakit

    get:
      tags:
        - Hospital Beds
      summary: Get hospital beds
      description: Menampilkan data tempat tidur berdasarkan id rumah sakit
  /beds/{beds_id}:
    
    get:
      tags:
        - Hospital Beds
      summary: Get hospital beds detail
      description: Menampilkan detail data tempat tidur di suatu rumah sakit
    
    put:
      tags:
        - Hospital Beds
      summary: Update hospital bed 
      description: Memperbarui data tempat tidur suatu rumah sakit

    delete:
      tags:
        - Hospital Beds
      summary: Delete specific hospital bed
      description: Menghapus data tempat tidur suatu rumah sakit

##############################################################
##############################################################

  /doctors:
    post:
      tags:
        - Doctors
      summary: add doctor
      description: Menambahkan data Dokter 

    get:
      tags:
        - Doctors
      summary: Get Doctors
      description: Menampilkan data dokter yang didaftarkan oleh admin 

  /doctors/{doctors_id}:
    
    get:
      tags:
        - Doctors
      summary: Get doctor's detail 
      description: Menampilkan detail doctor yang didaftarkan oleh admin (admin hanya bisa menampilkan dokter yang dia daftarkan)
    
    put:
      tags:
        - Doctors
      summary: Update doctor's data
      description: Memperbarui data doctor yang didaftarkan oleh admin (admin hanya bisa Memperbarui data dokter yang dia daftarkan)

    delete:
      tags:
        - Doctors
      summary: Delete specific doctor
      description: Menghapus data tempat tidur suatu rumah sakit (admin hanya bisa menghapus dokter yang dia daftarkan)

##############################################################
##############################################################

  /policlinics:
    post:
      tags:
        - Policlinics
      summary: add Policlinics
      description: Menambahkan data Dokter 

    get:
      tags:
        - Policlinics
      summary: Get Policlinics
      description: Menampilkan daftar poliklinik suatu rumah sakit

  /policlinics/{policlinics_id}:
    
    get:
      tags:
        - Policlinics
      summary: Get policlinic's details
      description: Menampilkan detail policlinic 
    
    put:
      tags:
        - Policlinics
      summary: Update policlinic's details
      description: Memperbarui data policlinic

    delete:
      tags:
        - Policlinics
      summary: Delete specific policlinic
      description: Menghapus data Poliklinik

##############################################################
##############################################################

  /practics:
    post:
      tags:
        - Daily Practics
      summary: add Daily Practics
      description: Menambahkan data praktek harian

    get:
      tags:
        - Daily Practics
      summary: Get Daily Practics
      description: Menampilkan daftar praktek harian suatu rumah sakit

  /practics/{practics_id}:
    
    get:
      tags:
        - Daily Practics
      summary: Get Daily Practics's details
      description: Menampilkan detail praktek harian
    
    put:
      tags:
        - Daily Practics
      summary: Update Daily Practics's details
      description: Memperbarui data praktek harian

##############################################################
##############################################################

  /reservations:
    post:
      tags:
        - Check Up Reservations
      summary: add reservation
      description: Menambahkan data reservasi pasien check-up

##############################################################
##############################################################

  /registrations:
    post:
      tags:
        - Beds Reservations
      summary: add patient registration
      description: Menambahkan data registrasi pasien icu/rawat inap

  /registrations/{registrations_id}:

    put:
      tags:
        - Beds Reservations
      summary: update registration data
      description: Memperbarui data registrasi pasien

    get:
      tags:
        - Beds Reservations
      summary: Get registration data
      description: Menampilkan data registrasi pasien

    delete:
      tags:
        - Beds Reservations
      summary: Delete registration data
      description: Menghapus data registrasi pasien

##############################################################
##############################################################

  /midtrans:
    put:
      tags:
        - Invoice
      summary: callback
      description: 







 
 


    
####################################
#  COMPONENTS
####################################
components:
  securitySchemes:
    JWTAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: "use Token"

  schemas:
    User:
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        email:
          type: string
        password:
          type: string
        phone:
          type: string
        address:
          type: string
        role:
          type: string
          enum:
            - admin
            - user
        status:
          type: boolean
        created_at:
          type: string
          format: date-time

    ResponseWithoutData:
      type: object
      properties:
        status:
          type: string
        message:
          type: string
  responses:
    '404':
      description: Not Found
      content:
        application/json:
          schema:
            type: object
            $ref: '#/components/schemas/ResponseWithoutData'
          example:
            status: "failed"
            message: "data not found"


    '500':
      description: Internal Server Error
      content:
        application/json:
          schema:
            type: object
            $ref: '#/components/schemas/ResponseWithoutData'
          example:
            status: "failed"
            message: "internal server error"

